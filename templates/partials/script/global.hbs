
<script type="text/javascript">
var socket;
var section = $('.section-id');
var error = $('#error');
var sectionId = section.attr("id");

$(document).ready(function () {

	socket = io.connect();

	socket.on('message', function(msg){
		console.log(msg);
	});

	socket.on('login:error', function(err){
		console.log(err);
		error.html(err);
		error.show();
	});

	socket.on('client:admin', function(){
		let data = {};
			data.username = "admin";
			data.password = "password";
			$.get("/api/login/", data, function(data){
				$('#app-content').html(data);

      });

	});

	socket.on('connect', function(){
		console.log('connected player');
		socket.emit('message', 'heres another connection message');
	});

	

	

		


	// DEBUG SCRIPT

	var adminLogin = $('.btn-submit#admin');

	adminLogin.click(function() {
		socket.emit('login:admin', function(){
			console.log("firing admin event");
		});
	});







	// SIGN UP

	// if (sectionId === "signup") {

		$('.btn-submit#signup').click(function(evt) {

			var data = {};

			data.username = $('#username').val();
			data.password = $('#password').val();
			data.email = $('#email').val();

			// console.log(data);

			if (!data.password || !data.username || !data.email) {
				// console.log ("empty fields");
				socket.emit('login:error', 'Empty Fields');
				  
				} else {
					

					$.post("/api/signup/", data, function(data){

						console.log("trying to create player");
	            
          });
				}

		});

	// }

	// LOGIN

	if (sectionId === "login") {

		$('.btn-submit#login').click(function(evt) {

			var data = {};


			// Grab username and password
			data.username = $('#username').val();
			data.password = $('#password').val();

			// Check for missing data
			if (!data.password || !data.username) {
				  
				} else {

					$.get("/api/login/", data, function(data){

						$('#app-content').html(data);

          });
				}

		});

		
	}

	// PROFILE

	// if (sectionId === "profile") {

	

		

	// }






});
  


</script>

